- name: yoga-app
  definition:
    url: '{{REMOTE_SCHEMA_ENDPOINT}}'
    timeout_seconds: 60
    customization: {}
    forward_client_headers: true
  comment: ""
  permissions:
    - role: user
      definition:
        schema: |
          schema {
            query: Query
            mutation: Mutation
          }
          type Class {
            class_name: String!
            created_at: String
            id: ID!
            status: String!
            updated_at: String
          }
          type ClassWithStudent {
            class_name: String!
            created_at: String
            id: ID!
            status: String!
            students: [Student]
            updated_at: String
          }
          type MessagesOutput {
            messages: String!
          }
          type Mutation {
            changePassword(form: FormEditPasswordInput!): MessagesOutput!
            enrollClass(classId: ID!): MessagesOutput!
            updateStudentByPk(pk: ID!, form: FormUpdateStudent!): Student!
          }
          type Query {
            getAllClasses: [Class]
            getClassByPk(pk: ID): ClassWithStudent!
            getMe: StudentWithClass!
          }
          type Student {
            created_at: String
            email: String!
            full_name: String!
            id: ID!
            status: String!
            updated_at: String
          }
          type StudentWithClass {
            classes: [Class]!
            created_at: String
            email: String!
            full_name: String!
            id: ID!
            status: String!
            updated_at: String
          }
          input FormEditPasswordInput {
            newPassword: String!
            oldPassword: String!
          }
          input FormUpdateStudent {
            email: String!
            full_name: String!
          }
